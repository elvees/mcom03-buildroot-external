---
- project:
    check:
      jobs:
        - mcom03-buildroot-build
        - mcom03-ngfwcb-buildroot-build:
            files:
              - configs/ngfwcb_defconfig
        - mcom03-priv-buildroot-build:
            files:
              - .*-rogue-.*
              - .*-vpu-.*
              - .*isp.*
              - configs/.*priv_defconfig
        - mcom03-rockpi-buildroot-build:
            files:
              - configs/rockpi_defconfig
        - mcom03-trustphone-buildroot-build:
            files:
              - configs/trustphonepm_defconfig
        - pre-commit

    # Run all jobs regardless which files were modified.
    # mcom03-buildroot-build and pre-commit are always triggered in check
    # pipeline.
    experimental:
      jobs:
        - mcom03-priv-buildroot-build
        - mcom03-ngfwcb-buildroot-build
        - mcom03-rockpi-buildroot-build
        - mcom03-trustphone-buildroot-build
        - mcom03-buildroot-build-centos8stream
        - mcom03-buildroot-build-ubuntufocal
